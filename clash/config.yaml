mixed-port: 7890
socks-port: 7891
redir-port: 7892
allow-lan: false
bind-address: "*"
ipv6: false
mode: rule
log-level: info
external-controller: "127.0.0.1:9090"
secret: ""
#dns:
#  enable: false
#  listen: 0.0.0.0:53
#  ipv6: false
#  default-nameserver:
#    - 1.2.4.8
#    - 223.5.5.5
#    - 119.29.29.29
#  nameserver:
#    - 1.2.4.8
#    - 119.29.29.29
#    - 223.5.5.5
#    - tls://dns.rubyfish.cn:853
#  fallback:
#    - 223.5.5.5
#    - tls://1.0.0.1:853
#    - tls://dns.google:853
# Will be ignored after profile selection
proxies:
  - name: "socks"
    type: socks5
    server: 127.0.0.1
    port: 1080

  - name: "http"
    type: http
    server: 127.0.0.1
    port: 1080

  - name: "ss"
    type: ss
    server: xxx.xxx.com
    port: 222
    cipher: chacha20-ietf-poly1305
    password: "password"
    udp: true

  - name: "ssr"
    type: ssr
    server: xxx.xxx.com
    port: 3396
    cipher: chacha20-ietf
    password: "password"
    obfs: tls1.2_ticket_auth
    protocol: auth_sha1_v4
    obfs-param: download.microsoft.com
    protocol-param: "31057:8wPxj2"
    udp: true

  - name: "vmess"
    type: vmess
    server: xxx.xxx.com
    port: 443
    uuid: 998272ec-6486-43ab-a450-86e6964be97f
    alterId: 0
    cipher: auto
    tls: true
    udp: true
    servername: xxx.xxx.com
    skip-cert-verify: true
    network: ws
    ws-opts:
      path: /apps
      headers:
        Host: xxx.xxx.com
      max-early-data: 4096
      early-data-header-name: Sec-WebSocket-Protocol

  - name: "trojan"
    type: trojan
    server: xxx.xxx.com
    port: 443
    password: password
    sni: xxx.xxx.com
    alpn:
      - h2
      - http/1.1
    skip-cert-verify: true

  - name: "snell"
    type: snell
    server: xxx.xxx.com
    port: 9443
    psk: password
    #version: 2
    obfs-opts:
      mode: http # or http
      host: xxx.xxx.com

  - name: trojan-grpc
    server: xxx.xxx.com
    port: 443
    type: trojan
    password: password
    network: grpc
    alpn:
      - h2
      - http/1.1
    sni: tycng.com
    skip-cert-verify: true
    #udp: true
    grpc-opts:
      grpc-service-name: "trojan"

  - name: vmess-grpc
    server: xxx.xxx.com
    port: 443
    type: vmess
    uuid: d9e5d918-91f8-49ee-94a3-faswerqwe
    alterId: 0
    cipher: auto
    network: grpc
    tls: true
    servername: xxx.xxx.com
    skip-cert-verify: true
    grpc-opts:
      grpc-service-name: "sbwhgrpc"

  - name: "vmess-http"
    type: vmess
    server: xxx.xxx.com
    port: 20002
    uuid: 3785ed4b-ccf2-843f-c605-gafwqae
    alterId: 0
    cipher: auto
    network: http
    http-opts:
      method: "GET"
      path:
        - "/"
      headers:
        Host:
          - www.bing.com
          - www.cloudflare.com
          - www.amazon.com
        User-Agent:
          - Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML,
            like Gecko) Chrome/84.0.4147.105 Safari/537.36 Edg/84.0.522.49
          - Mozilla/5.0 (iPhone; CPU iPhone OS 13_6 like Mac OS X)
            AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/84.0.4147.71
            Mobile/15E148 Safari/604.1
        Accept-Encoding:
          - gzip, deflate
        Connection:
          - keep-alive
    skip-cert-verify: false

  - name: trojan-ws
    server: xxx.xxx.com
    port: 443
    type: trojan
    password: password
    network: ws
    sni: xxx.xxx.com
    skip-cert-verify: true
    udp: true
    ws-opts:
      path: /
      headers:
        Host: xxx.xxx.com

proxy-groups:
  - name: âœˆï¸ å¢™å¤–ç½‘ç«™
    type: select
    proxies:
      - "è´Ÿè½½å‡è¡¡"
      #- â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - "socks"
      - "http"
      - "ss"
      - "ssr"
      - "trojan-ws"
      - "vmess"
      - "trojan"
      - "snell"
      - "vmess-http"
      - "vmess-grpc"
      - "trojan-grpc"
      - DIRECT
  - name: ğŸŸ å…¶ä»–ç½‘ç«™
    type: select
    proxies:
      - DIRECT
      - âœˆï¸ å¢™å¤–ç½‘ç«™
  - name: ğŸ¥ NETFLIX
    type: select
    proxies:
      - "socks"
      - "http"
      - "ss"
      - "ssr"
      - "vmess"
      - "trojan"
      - "snell"
      - "vmess-http"
      - "vmess-grpc"
      - "trojan-grpc"
      - DIRECT
  - name: ğŸš« ä»¥ä¸‹ä¸ç”¨åŠ¨
    type: select
    proxies:
      - DIRECT
  - name: ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies:
      - REJECT
      - DIRECT
  - name: â“‚ï¸ å¾®è½¯è‹¹æœ
    type: select
    proxies:
      - DIRECT
      - âœˆï¸ å¢™å¤–ç½‘ç«™
  - name: ğŸŒ å›½å¤–åª’ä½“
    type: select
    proxies:
      - âœˆï¸ å¢™å¤–ç½‘ç«™
      - DIRECT
  #- name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  #  type: url-test
  #  url: http://www.gstatic.com/generate_204
  #  interval: 500
  #  proxies:
  #    - "socks"
  #    - "http"
  #    - "ss"
  #    - "ssr"
  #    - "vmess"
  #    - "trojan"
  #    - "snell"
  - name: "è´Ÿè½½å‡è¡¡"
    type: load-balance
    proxies:
      - "socks"
      - "http"
      - "ss"
      - "ssr"
      - "vmess"
      - "trojan"
      - "snell"
    url: "http://www.gstatic.com/generate_204"
    interval: 500
rule-providers:
  Apple:
    type: http
    behavior: classical
    url: https://gio.tycng.com/v2ray/clash/Ruleset/Apple.yaml
    interval: 3600
    path: ./profiles/rules/Apple.yaml
  Foreignmedia:
    type: http
    behavior: classical
    url: https://gio.tycng.com/v2ray/clash/Ruleset/Foreignmedia.yaml
    interval: 3600
    path: ./profiles/rules/Foreignmedia.yaml
  Netflix:
    type: http
    behavior: classical
    url: https://gio.tycng.com/v2ray/clash/Ruleset/Netflix.yaml
    interval: 3600
    path: ./profiles/rules/Netflix.yaml
  Reject:
    type: http
    behavior: classical
    url: https://gio.tycng.com/v2ray/clash/Ruleset/Reject.yaml
    interval: 3600
    path: ./profiles/rules/Reject.yaml
  Reject1:
    type: http
    behavior: classical
    url: https://gio.tycng.com/v2ray/clash/Ruleset/Reject1.yaml
    interval: 3600
    path: ./profiles/rules/Reject1.yaml
  IpDirect:
    type: http
    behavior: ipcidr
    url: https://gio.tycng.com/v2ray/clash/Ruleset/IpDirect.yaml
    interval: 3600
    path: ./profiles/rules/IpDirect.yaml
  Proxy:
    type: http
    url: https://gio.tycng.com/v2ray/clash/Ruleset/Proxy.yaml
    interval: 3600
    behavior: classical
    path: ./profiles/rules/Proxy.yaml
  ITdev:
    type: http
    behavior: classical
    url: https://gio.tycng.com/v2ray/clash/Ruleset/ITdev.yaml
    interval: 3600
    path: ./profiles/rules/ITdev.yaml
  Chinao:
    type: http
    behavior: classical
    url: https://gio.tycng.com/v2ray/clash/Ruleset/China-o.yaml
    interval: 3600
    path: ./profiles/rules/China-o.yaml
  Chinat:
    type: http
    behavior: classical
    url: https://gio.tycng.com/v2ray/clash/Ruleset/China-t.yaml
    interval: 3600
    path: ./profiles/rules/China-t.yaml
  Chinas:
    type: http
    behavior: classical
    url: https://gio.tycng.com/v2ray/clash/Ruleset/China-s.yaml
    interval: 3600
    path: ./profiles/rules/China-s.yaml
  applications:
    type: http
    behavior: classical
    url: https://gio.tycng.com/v2ray/clash/Ruleset/applications.yaml
    interval: 3600
    path: ./profiles/rules/applications.yaml

# è§„åˆ™
rules:
  - RULE-SET,applications,DIRECT
  - RULE-SET,Apple,â“‚ï¸ å¾®è½¯è‹¹æœ
  - RULE-SET,Foreignmedia,ğŸŒ å›½å¤–åª’ä½“
  - RULE-SET,Netflix,ğŸ¥ NETFLIX
  - RULE-SET,Reject,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,Reject1,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,Proxy,âœˆï¸ å¢™å¤–ç½‘ç«™
  - RULE-SET,ITdev,âœˆï¸ å¢™å¤–ç½‘ç«™
  - RULE-SET,IpDirect,DIRECT
  - RULE-SET,Chinao,DIRECT
  - RULE-SET,Chinat,DIRECT
  - RULE-SET,Chinas,DIRECT
  - DOMAIN-SUFFIX,smtp,DIRECT
  - DOMAIN-KEYWORD,aria2,DIRECT
  - GEOIP,CN,DIRECT
  #- GEOIP,AE,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,AU,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,BR,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,CA,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,DE,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,DK,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,ES,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,FI,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,FR,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,GB,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,GR,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,HK,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,ID,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,IL,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,IN,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,IQ,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,IR,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,IT,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,JP,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,KR,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,MO,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,MY,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,NL,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,NO,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,NZ,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,PH,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,RU,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,SA,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,SG,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,TH,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,TR,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,TW,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,US,âœˆï¸ å¢™å¤–ç½‘ç«™
  #- GEOIP,VN,âœˆï¸ å¢™å¤–ç½‘ç«™
  - MATCH,ğŸŸ å…¶ä»–ç½‘ç«™
